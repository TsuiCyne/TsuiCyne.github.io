<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"tsuicyne.github.io","root":"/","scheme":"Pisces","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="#BJ190405本篇主要讲如何操作与管理Linux文件和目录。包括在不同的目录间变换、 建立与删除目录、建立与删除文件，还有寻找文件、查阅文件内容等。-P161-">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux：文件与目录管理">
<meta property="og:url" content="https://tsuicyne.github.io/BJ190405/index.html">
<meta property="og:site_name" content="Beluga">
<meta property="og:description" content="#BJ190405本篇主要讲如何操作与管理Linux文件和目录。包括在不同的目录间变换、 建立与删除目录、建立与删除文件，还有寻找文件、查阅文件内容等。-P161-">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://tsuicyne.github.io/BJ190405/find_time.gif">
<meta property="article:published_time" content="2019-04-05T15:52:00.000Z">
<meta property="article:modified_time" content="2020-01-21T08:27:00.000Z">
<meta property="article:author" content="TsuiCyne">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tsuicyne.github.io/BJ190405/find_time.gif">

<link rel="canonical" href="https://tsuicyne.github.io/BJ190405/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>Linux：文件与目录管理 | Beluga</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Beluga</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">鲸</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tsuicyne.github.io/BJ190405/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="TsuiCyne">
      <meta itemprop="description" content="广东网友">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beluga">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux：文件与目录管理
        </h1>

        <div class="post-meta">
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-21 16:27" itemprop="dateModified" datetime="2020-01-21T16:27:00+08:00">2020-01-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/BJ190405/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/BJ190405/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><em>#BJ190405</em><br>本篇主要讲如何操作与管理Linux文件和目录。包括在不同的目录间变换、 建立与删除目录、建立与删除文件，还有寻找文件、查阅文件内容等。<br>-P161-</p>
<a id="more"></a>
<p>倘若发现文章有所纰漏或存在不妥之处，还望指正</p>
<h1 id="目录与路径"><a href="#目录与路径" class="headerlink" title="目录与路径"></a>目录与路径</h1><h2 id="相对路径与绝对路径"><a href="#相对路径与绝对路径" class="headerlink" title="相对路径与绝对路径"></a>相对路径与绝对路径</h2><p>有关绝对路径相对路径的概念在上一篇有所介绍<br><a href="https://tsuicyne.github.io/2019/03/24/BJ190324/#绝对路径与相对路径">点击空降</a><br>那么相对路径和绝对路径有什么用处呢？假设你写了一个软件，这个软件共需要3个目录：<code>/etc</code>，<code>/bin</code>，<code>/man</code>。由于不同人喜欢把软件安装在不同的位置，如甲安装在<code>/usr/local/packages</code>，乙安装在<code>/home/packages</code>，这时如果使用绝对路径的话，就会非常麻烦</p>
<h2 id="目录的相关操作"><a href="#目录的相关操作" class="headerlink" title="目录的相关操作"></a>目录的相关操作</h2><h3 id="一些特殊的目录"><a href="#一些特殊的目录" class="headerlink" title="一些特殊的目录"></a>一些特殊的目录</h3><p><code>.</code>：当前目录</p>
<p><code>..</code>：上一层目录</p>
<p><code>-</code>：前一个工作目录</p>
<p><code>~</code>：目前登录用户的主文件夹</p>
<p><code>~account</code>：account用户的主文件夹</p>
<h3 id="几个常见的处理目录的命令"><a href="#几个常见的处理目录的命令" class="headerlink" title="几个常见的处理目录的命令"></a>几个常见的处理目录的命令</h3><h4 id="切换目录：cd"><a href="#切换目录：cd" class="headerlink" title="切换目录：cd"></a>切换目录：cd</h4><p>这个命令是change directory简称，用来切换工作目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#切换目录</span><br><span class="line">beluga@beluga-Linux:~$ cd [绝对路径或相对路径]</span><br><span class="line"></span><br><span class="line">#切换到beluga账户的主文件夹</span><br><span class="line">root@beluga-Linux:&#x2F;home&#x2F;beluga# cd ~beluga</span><br><span class="line"></span><br><span class="line">#切换到自己账户的主文件夹</span><br><span class="line">root@beluga-Linux:&#x2F;home&#x2F;beluga# cd ~</span><br><span class="line"></span><br><span class="line">#切换到上一层目录</span><br><span class="line">beluga@beluga-Linux:~$ cd ..</span><br><span class="line"></span><br><span class="line">#切换到刚刚那个目录</span><br><span class="line">beluga@beluga-Linux:~$ cd -</span><br><span class="line"></span><br><span class="line">#切换目录（绝对路径）</span><br><span class="line">beluga@beluga-Linux:~$ cd &#x2F;var&#x2F;spool&#x2F;mail</span><br><span class="line"></span><br><span class="line">#切换目录（相对路径）</span><br><span class="line">beluga@beluga-Linux:~$ cd ..&#x2F;mqueue</span><br></pre></td></tr></table></figure>

<h4 id="显示当前目录：pwd"><a href="#显示当前目录：pwd" class="headerlink" title="显示当前目录：pwd"></a>显示当前目录：pwd</h4><p>这个命令是print working directory简称，用来显示当前所在目录。由于许多软件使用的目录名称都相同，但Linux通常只列出最后的那个目录，这时你就可以使用这个命令来取得当前目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#显示当前目录</span><br><span class="line">beluga@beluga-Linux:~$ pwd [-p]</span><br><span class="line"></span><br><span class="line">-p:显示出当前路径，而非使用连接（link）路径</span><br></pre></td></tr></table></figure>

<h4 id="新建目录：mkdir"><a href="#新建目录：mkdir" class="headerlink" title="新建目录：mkdir"></a>新建目录：mkdir</h4><p>这个命令是make directory简称，默认情况下所需的目录得一层一层创建<br>不过，可以使用<code>-p</code>参数来创建多层目录<br>另外，还可以使用<code>-m</code>来强制给予新目录的权限。若是没有指定，那么默认的目录权限跟umask有关</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ mkdir [-mp] 目录名</span><br><span class="line"></span><br><span class="line">-m:配置权限</span><br><span class="line">-p:帮你直接把所需目录递归创建</span><br><span class="line">——————————</span><br><span class="line">#新建目录</span><br><span class="line">beluga@beluga-Linux:~$ mkdir testdir</span><br><span class="line"></span><br><span class="line">#新建多层目录</span><br><span class="line">beluga@beluga-Linux:~$ mkdir -p testdir1&#x2F;testdir2</span><br><span class="line"></span><br><span class="line">#新建权限为rwx--x--x目录</span><br><span class="line">beluga@beluga-Linux:~$ mkdir -m 711 testdir</span><br></pre></td></tr></table></figure>

<h4 id="删除空目录：rmdir"><a href="#删除空目录：rmdir" class="headerlink" title="删除空目录：rmdir"></a>删除空目录：rmdir</h4><p>目录需要一层层地删除，而且被删除的目录中必定不能存在其他目录或文件。那如果要将目录下的文件一同删除可以使用<code>rm -r 目录名</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ rmdir [-p] 目录名</span><br><span class="line"></span><br><span class="line">-p:连同上层空目录一起删除</span><br><span class="line">——————————</span><br><span class="line">#删除目录</span><br><span class="line">beluga@beluga-Linux:~$ rmdir testdir</span><br><span class="line"></span><br><span class="line">#删除多层空目录</span><br><span class="line">beluga@beluga-Linux:~$ rmdir -p testdir1&#x2F;testdir2</span><br></pre></td></tr></table></figure>

<h2 id="执行文件路径的变量：-PATH"><a href="#执行文件路径的变量：-PATH" class="headerlink" title="执行文件路径的变量：$PATH"></a>执行文件路径的变量：$PATH</h2><p>我们知道查看文件的命令<code>ls</code>的完整文件名为<code>/bin/ls</code>，那我们为什么可以在任何地方只输入<code>ls</code>就能执行呢？这是因为环境变量PATH的帮助，当我们执行一个命令时，就如<code>ls</code>，系统会去每个PATH定义的目录下查找名为<code>ls</code>可执行文件，如果有多个同名文件，那么先查询到的先执行。我们可以通过执行<code>echo $PATH</code>命令看看多少目录被定义，<code>$</code>表示后面加的是变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ echo $PATH</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;sbin:&#x2F;usr&#x2F;local&#x2F;bin:&#x2F;usr&#x2F;sbin:&#x2F;usr&#x2F;bin:&#x2F;sbin:&#x2F;bin:&#x2F;usr&#x2F;games:&#x2F;usr&#x2F;local&#x2F;games:&#x2F;snap&#x2F;bin</span><br></pre></td></tr></table></figure>
<p>PATH这个变量由一大堆目录组成，每个目录用<code>:</code>隔开，目录之间有顺序之分</p>
<h1 id="文件与目录管理"><a href="#文件与目录管理" class="headerlink" title="文件与目录管理"></a>文件与目录管理</h1><h2 id="查看文件与目录：ls"><a href="#查看文件与目录：ls" class="headerlink" title="查看文件与目录：ls"></a>查看文件与目录：ls</h2><p>在Linux系统中，<code>ls</code>命令可能是最常被执行的。Linux的文件记录的信息实在太多了，<code>ls</code>没有必要每次都全部列出来。所以其默认显示的只有非隐藏文件的文件名、文件名排序及文件名代表的颜色显示。如果还需要显示别的信息时就需要使用特定的参数<br>不论如何，<code>ls</code>最常被使用的还是<code>-l</code>参数，因此很多distribution默认就将<code>ll</code>设置成<code>ls -l</code>的意思了，这个功能是<code>bash shell</code>的<code>alias</code>功能</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ ls [-aAdfFhilnrRSt] 目录名</span><br><span class="line"></span><br><span class="line">beluga@beluga-Linux:~$ ls [--color&#x3D;&#123;never,auto,always&#125;] 目录名</span><br><span class="line"></span><br><span class="line">beluga@beluga-Linux:~$ ls [--full-time] 目录名</span><br><span class="line"></span><br><span class="line">-a:列出全部文件，连同隐藏文件</span><br><span class="line">-A:列出全部文件，连同隐藏文件（不包括.和..这两个目录）</span><br><span class="line">-d:仅列出目录，不列出文件</span><br><span class="line">-f:直接列出结果，不进行排序（默认会以文件名排序）</span><br><span class="line">-F:根据文件、目录等信息给予附加数据结构，如：</span><br><span class="line">	*:代表可执行文件，&#x2F;:代表目录，&#x3D;:代表socket文件，|:代表FIFO文件</span><br><span class="line">-h:将文件大小以KB、GB等方式列出来</span><br><span class="line">-i:列出inode号码</span><br><span class="line">-l:列出长数据串（文件属性权限10字符串）</span><br><span class="line">-n:列出UID和GID，而非用户和用户组名称</span><br><span class="line">-r:将排序结果反向输出</span><br><span class="line">-R:连同子目录的内容一起显示</span><br><span class="line">-S:以文件容量大小排序，而不是文件名</span><br><span class="line">-t:以时间排序，而不是文件名</span><br><span class="line">--color&#x3D;never:不要依据文件特征给予颜色显示</span><br><span class="line">--color&#x3D;always:显示颜色</span><br><span class="line">--color&#x3D;auto:系统自行判断是否给予颜色</span><br><span class="line">--full-time:以完整时间模式输出</span><br><span class="line">--full&#x3D;&#123;atime,ctime&#125;:输出访问时间或状态更改时间，而非内容更改时间</span><br><span class="line">——————————</span><br><span class="line">#将主文件夹下所有文件列出来</span><br><span class="line">beluga@beluga-Linux:~$ ls -al ~</span><br><span class="line">总用量 140</span><br><span class="line">drwxr-xr-x 22 beluga beluga 4096 3月  30 19:57 .</span><br><span class="line">drwxr-xr-x  3 root   root   4096 3月   4 12:08 ..</span><br><span class="line">-rw-r--r--  1 beluga beluga  161 3月   7 17:48 123</span><br><span class="line">-rw-------  1 beluga beluga 2014 3月  27 16:09 .bash_history</span><br><span class="line">-rw-r--r--  1 beluga beluga  220 3月   4 12:08 .bash_logout</span><br><span class="line">-rw-r--r--  1 beluga beluga 3771 3月   4 12:08 .bashrc</span><br><span class="line">drwx------ 18 beluga beluga 4096 3月  10 15:20 .cache</span><br><span class="line">drwx------ 19 beluga beluga 4096 3月  27 16:07 .config</span><br><span class="line">-rwxrwxr-x  1 root   beluga    5 3月  10 15:18 test.txt</span><br><span class="line">#可以看到以.开头的文件，以及.和..目录文件</span><br></pre></td></tr></table></figure>

<h2 id="复制、删除与移动：cp，rm，mv"><a href="#复制、删除与移动：cp，rm，mv" class="headerlink" title="复制、删除与移动：cp，rm，mv"></a>复制、删除与移动：cp，rm，mv</h2><h3 id="复制文件或目录：cp"><a href="#复制文件或目录：cp" class="headerlink" title="复制文件或目录：cp"></a>复制文件或目录：cp</h3><p>这个命令是copy简称。这个命令除了单纯复制之外，还有创建连接文件（快捷方式），对比两文件新旧予以更新以及复制整个目录等功能</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ cp [-adfilprsu] 源文件 目标文件</span><br><span class="line"></span><br><span class="line">beluga@beluga-Linux:~$ cp [options] 源文件1 源文件2 源文件3 ... 目录</span><br><span class="line">#如果源文件有两个以上，则目标文件要是目录才行</span><br><span class="line"></span><br><span class="line">-a:相当与-pdr的意思</span><br><span class="line">-d:若源文件为连接文件，则复制连接文件而非文件本身</span><br><span class="line">-f:强制force简称，若目标文件已经存在且无法开启，则删除后再尝试一次</span><br><span class="line">-i:若目标文件已经存在，在覆盖时会先询问操作的进行</span><br><span class="line">-l:进行硬连接(hard link)的连接文件创建，而非复制文件本身</span><br><span class="line">-p:连同文件属性一起复制过去，而非使用默认属性</span><br><span class="line">-r:递归持续复制，用于目录的复制行为</span><br><span class="line">-s:复制成为符号连接文件(symbolic link)，即创建快捷方式</span><br><span class="line">-u:若目标文件(destination)比源文件(source)旧才更新目标文件</span><br><span class="line">——————————</span><br><span class="line">#将主文件夹下的.bashrc复制到&#x2F;tmp下，更名为bashrc</span><br><span class="line">beluga@beluga-Linux:~$ cp ~&#x2F;.bashrc &#x2F;tmp&#x2F;bashrc</span><br><span class="line"></span><br><span class="line">#重复相同动作，加入-i参数</span><br><span class="line">beluga@beluga-Linux:~$ cp -i ~&#x2F;.bashrc &#x2F;tmp&#x2F;bashrc</span><br><span class="line">cp：是否覆盖&#39;&#x2F;tmp&#x2F;bashrc&#39;？ y		&lt;&#x3D;n:不覆盖 y:覆盖</span><br><span class="line"></span><br><span class="line">#切换到&#x2F;tmp，并将&#x2F;var&#x2F;log&#x2F;wtmp复制到&#x2F;tmp且查看两者属性和建立时间差别</span><br><span class="line">beluga@beluga-Linux:~$ cd &#x2F;tmp</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ cp &#x2F;var&#x2F;log&#x2F;wtmp .</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ ls -l &#x2F;var&#x2F;log&#x2F;wtmp wtmp</span><br><span class="line">-rw-rw-r-- 1 root   utmp   41856 3月  31 14:25 &#x2F;var&#x2F;log&#x2F;wtmp</span><br><span class="line">-rw-r--r-- 1 beluga beluga 41856 3月  31 15:57 wtmp</span><br><span class="line">#默认条件cp源文件与目标文件的权限是不同的，目标文件的所有者通常就是命令执行人，所以复制过来的用户和用户组都变成beluga</span><br><span class="line"></span><br><span class="line">#如果要将文件所有特性一起复制过来，使用-a参数</span><br><span class="line">root@beluga-Linux:&#x2F;tmp# cp -a &#x2F;var&#x2F;log&#x2F;wtmp wtmp2</span><br><span class="line">root@beluga-Linux:&#x2F;tmp# ls -l  &#x2F;var&#x2F;log&#x2F;wtmp wtmp2</span><br><span class="line">-rw-rw-r-- 1 root utmp 41856 3月  31 14:25 &#x2F;var&#x2F;log&#x2F;wtmp</span><br><span class="line">-rw-rw-r-- 1 root utmp 41856 3月  31 14:25 wtmp2</span><br><span class="line">#由于beluga身份不能随意修改文件用户和用户组，所以若是使用beluga账户则只能复制权限时间等属性</span><br><span class="line"></span><br><span class="line">#复制&#x2F;etc这个目录下的所有内容到&#x2F;tmp目录下</span><br><span class="line">root@beluga-Linux:&#x2F;tmp# cp -r &#x2F;etc &#x2F;tmp</span><br><span class="line"></span><br><span class="line">#将前面复制过来的bashrc文件创建连接文件</span><br><span class="line">eluga@beluga-Linux:&#x2F;tmp$ ls -l bashrc</span><br><span class="line">-rw-r--r-- 1 beluga beluga 3771 3月  31 15:51 bashrc</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ cp -s bashrc bashrc_slink</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ cp -l bashrc bashrc_hlink</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ ls -l bashrc*</span><br><span class="line">-rw-r--r-- 2 beluga beluga 3777 3月  31 16:21 bashrc</span><br><span class="line">-rw-r--r-- 2 beluga beluga 3777 3月  31 16:21 bashrc_hlink</span><br><span class="line">lrwxrwxrwx 1 beluga beluga    6 3月  31 16:24 bashrc_slink -&gt; bashrc</span><br><span class="line">#-s是软连接，bashrc_slink是一个快捷方式，连到bashrc，所以文件名右侧有个-&gt;指向符号</span><br><span class="line">#-l是硬连接，bashrc_hlink文件和bashrc文件属性和权限一模一样，差异是第二列的link变大</span><br><span class="line"></span><br><span class="line">#若~&#x2F;.bashrc比&#x2F;tmp&#x2F;bashrc新才复制</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ cp -u ~&#x2F;.bashrc &#x2F;tmp&#x2F;bashrc</span><br><span class="line"></span><br><span class="line">#将前面生成的bashrc_slink复制成为bashrc_slink_1和bashrc_slink_2</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ cp bashrc_slink bashrc_slink_1</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ cp -d bashrc_slink bashrc_slink_2</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ ls -l bashrc bashrc_slink*</span><br><span class="line">-rw-r--r-- 3 beluga beluga 3777 3月  31 16:21 bashrc</span><br><span class="line">lrwxrwxrwx 1 beluga beluga    6 3月  31 16:24 bashrc_slink -&gt; bashrc</span><br><span class="line">-rw-r--r-- 1 beluga beluga 3777 3月  31 16:38 bashrc_slink_1</span><br><span class="line">lrwxrwxrwx 1 beluga beluga    6 3月  31 16:38 bashrc_slink_2 -&gt; bashrc</span><br><span class="line">#也就是说，如果没有加参数，cp复制的实际是源文件而不是连接文件</span><br><span class="line"></span><br><span class="line">#将主文件夹的.bashrc及.bash_history复制到&#x2F;tmp</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ cp ~&#x2F;.bashrc ~&#x2F;.bash_history &#x2F;tmp</span><br></pre></td></tr></table></figure>

<h3 id="移除文件或目录：rm"><a href="#移除文件或目录：rm" class="headerlink" title="移除文件或目录：rm"></a>移除文件或目录：rm</h3><p>这个命令是remove简称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:&#x2F;tmp$ rm [-fir] 文件或目录</span><br><span class="line"></span><br><span class="line">-f:强制force简称，忽略不存在的文件，不会出现警告信息</span><br><span class="line">-i:互动模式，删除前会询问用户是否操作</span><br><span class="line">-r:递归删除</span><br><span class="line">——————————</span><br><span class="line">#删除文件</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ rm -i bashrc</span><br><span class="line">rm：是否删除普通文件 &#39;bashrc&#39;？ y</span><br><span class="line"></span><br><span class="line">#删除目录</span><br><span class="line">root@beluga-Linux:&#x2F;tmp# rmdir &#x2F;tmp&#x2F;etc</span><br><span class="line">rmdir: 删除 &#39;&#x2F;tmp&#x2F;etc&#39; 失败: 目录非空</span><br><span class="line">root@beluga-Linux:&#x2F;tmp# rm -r &#x2F;tmp&#x2F;etc</span><br><span class="line"></span><br><span class="line">#删除一个带有-开头的文件</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ touch .&#x2F;-aaa-</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ rm -aaa-</span><br><span class="line">rm: 不适用的选项 -- a		&lt;&#x3D;系统误判成参数，无法删除</span><br><span class="line">Try &#39;rm .&#x2F;-aaa-&#39; to remove the file &#39;-aaa-&#39;.</span><br><span class="line">Try &#39;rm --help&#39; for more information.</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ rm .&#x2F;-aaa-</span><br></pre></td></tr></table></figure>

<h3 id="移动文件或目录：mv"><a href="#移动文件或目录：mv" class="headerlink" title="移动文件或目录：mv"></a>移动文件或目录：mv</h3><p>这个命令是move简称。这个命令也常被用来作重命名的操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ mv [-fiu] 源文件 目标文件</span><br><span class="line"></span><br><span class="line">beluga@beluga-Linux:~$ mv [options] 源文件1 源文件2 源文件3 ... 目录</span><br><span class="line"></span><br><span class="line">-f:force简称，若目标文件已经存在，不会询问直接覆盖</span><br><span class="line">-i:若目标文件已经存在，询问是否覆盖</span><br><span class="line">-u:若目标文件已经存在，且source比较新，才会更新</span><br><span class="line">——————————</span><br><span class="line">#将文件移到目录中</span><br><span class="line">beluga@beluga-Linux:~$ mv bashrc mvtest</span><br><span class="line"></span><br><span class="line">#将目录重命名成mvtest2</span><br><span class="line">beluga@beluga-Linux:~$ mv mvtest mvtest2</span><br><span class="line"></span><br><span class="line">#将两个文件全部移动到目录中</span><br><span class="line">beluga@beluga-Linux:~$ mv bashrc1 bashrc2 mvtest2</span><br></pre></td></tr></table></figure>

<h2 id="取得路径文件名与目录名称"><a href="#取得路径文件名与目录名称" class="headerlink" title="取得路径文件名与目录名称"></a>取得路径文件名与目录名称</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#取得文件名</span><br><span class="line">beluga@beluga-Linux:~$ basename &#x2F;etc&#x2F;sysconfig&#x2F;network</span><br><span class="line">network</span><br><span class="line"></span><br><span class="line">#取得目录名</span><br><span class="line">beluga@beluga-Linux:~$ dirname &#x2F;etc&#x2F;sysconfig&#x2F;network</span><br><span class="line">&#x2F;etc&#x2F;sysconfig</span><br></pre></td></tr></table></figure>

<h1 id="文件内容查阅"><a href="#文件内容查阅" class="headerlink" title="文件内容查阅"></a>文件内容查阅</h1><p>如果我们要查阅一个文件时，该如何做呢？最常使用的显示文件内容的命令就是<code>cat</code>、<code>more</code>及<code>less</code>了。除此之外还有别的命令可以用来查阅文件内容</p>
<h2 id="直接查看文件内容"><a href="#直接查看文件内容" class="headerlink" title="直接查看文件内容"></a>直接查看文件内容</h2><p>直接查看文件内容可以使用<code>cat</code>、<code>tac</code>、<code>nl</code>这几个命令</p>
<h3 id="连续显示：cat"><a href="#连续显示：cat" class="headerlink" title="连续显示：cat"></a>连续显示：cat</h3><p>这个命令是concatenate简称，主要功能是将文件内容连续显示在屏幕</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ cat [-AbEnTv] 文件</span><br><span class="line"></span><br><span class="line">-A:相当于-vET的整合参数，可列出一些特殊字符而不是空白</span><br><span class="line">-b:列出行号，仅对非空白行做行号显示</span><br><span class="line">-E:将结尾的换行字符$显示出来</span><br><span class="line">-n:打印处行号，空白行也会有行号显示</span><br><span class="line">-T:将[Tab]键以^I显示出来</span><br><span class="line">-v:列出一些看不出来的特殊字符</span><br><span class="line">——————————</span><br><span class="line">#查看&#x2F;etc&#x2F;host.conf这个文件内容</span><br><span class="line">beluga@beluga-Linux:~$ cat &#x2F;etc&#x2F;host.conf </span><br><span class="line"># The &quot;order&quot; line is only used by old versions of the C library.</span><br><span class="line">order hosts,bind</span><br><span class="line">multi on</span><br><span class="line"></span><br><span class="line">#加行号显示出来</span><br><span class="line">beluga@beluga-Linux:~$ cat -n &#x2F;etc&#x2F;host.conf </span><br><span class="line">     1	# The &quot;order&quot; line is only used by old versions of the C library.</span><br><span class="line">     2	order hosts,bind</span><br><span class="line">     3	multi on</span><br><span class="line"></span><br><span class="line">#将&#x2F;etc&#x2F;hdparm.conf内容连特殊字符显示出来</span><br><span class="line">beluga@beluga-Linux:~$ cat -A &#x2F;etc&#x2F;hdparm.conf </span><br><span class="line">## This is the default configuration for hdparm for Debian.  It is a$</span><br><span class="line">...</span><br><span class="line">#&#x2F;dev&#x2F;discs&#x2F;disc0&#x2F;disc &#123;$</span><br><span class="line">#^Imult_sect_io &#x3D; 16$</span><br><span class="line">#^Iwrite_cache &#x3D; off$</span><br><span class="line">#^Ispindown_time &#x3D; 240$</span><br><span class="line">#&#125;$</span><br><span class="line">$</span><br><span class="line">#可以看到[Tab]会以^I显示，换行会以$显示</span><br><span class="line">#注意在Windows下换行字符是^M$，linux下是$</span><br></pre></td></tr></table></figure>

<h3 id="反向列示：tac"><a href="#反向列示：tac" class="headerlink" title="反向列示：tac"></a>反向列示：tac</h3><p>这个命令就是把末行变成首行反向显示出来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ tac &#x2F;etc&#x2F;host.conf </span><br><span class="line">multi on</span><br><span class="line">order hosts,bind</span><br><span class="line"># The &quot;order&quot; line is only used by old versions of the C library.</span><br></pre></td></tr></table></figure>

<h3 id="添加行号打印：nl"><a href="#添加行号打印：nl" class="headerlink" title="添加行号打印：nl"></a>添加行号打印：nl</h3><p><code>nl</code>可以将输出的文件内容自动加上行号，其与<code>cat -n</code>不太一样，<code>nl</code>可以将行号做特殊的显示设计，包括位数与是否自动补0等</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ nl [-bnw] 文件</span><br><span class="line"></span><br><span class="line">-b:指定行号显示方式，主要有两种</span><br><span class="line">	-b a:表示不论是否为空白行，都列出行号</span><br><span class="line">	-b t:如果是空白行，则空白行不列出行号(默认)</span><br><span class="line">-n:列出行号表示方法，主要有三种</span><br><span class="line">	-n ln:行号在屏幕左方显示</span><br><span class="line">	-n rn:行号在字段右方显示，且不加0</span><br><span class="line">	-n rz:行号在字段右方显示，且加0</span><br><span class="line">-w:行号字段占用的位数</span><br><span class="line">——————————</span><br><span class="line">#用nl列出&#x2F;etc&#x2F;issue内容</span><br><span class="line">beluga@beluga-Linux:~$ nl &#x2F;etc&#x2F;issue</span><br><span class="line">     1	Ubuntu 18.04.2 LTS \n \l</span><br><span class="line">       </span><br><span class="line">#注意，这个文件内容是有2行的，因为它是空白行所以没有列出行号</span><br><span class="line"></span><br><span class="line">#要让空白行也加上行号</span><br><span class="line">beluga@beluga-Linux:~$ nl -b a &#x2F;etc&#x2F;issue</span><br><span class="line">     1	Ubuntu 18.04.2 LTS \n \l</span><br><span class="line">     2	</span><br><span class="line"></span><br><span class="line">#行号前面还可以自动补0，默认是6位</span><br><span class="line">beluga@beluga-Linux:~$ nl -b a -n rz &#x2F;etc&#x2F;issue</span><br><span class="line">000001	Ubuntu 18.04.2 LTS \n \l</span><br><span class="line">000002	</span><br><span class="line"></span><br><span class="line">#若要改变位数，则加上-w 位数</span><br><span class="line">beluga@beluga-Linux:~$ nl -b a -n rz -w 3 &#x2F;etc&#x2F;issue</span><br><span class="line">001	Ubuntu 18.04.2 LTS \n \l</span><br><span class="line">002</span><br></pre></td></tr></table></figure>

<h2 id="可翻页查看"><a href="#可翻页查看" class="headerlink" title="可翻页查看"></a>可翻页查看</h2><p>前面的那些命令都是一次性将所有内容显示到屏幕上，现在讲的就是可以一页一页翻动的命令</p>
<h3 id="more"><a href="#more" class="headerlink" title="more"></a>more</h3><p>如果<code>more</code>后面接的文件内容行数大于屏幕输出总行数就会出现下面的提示。在提示后面我们还可以输入一些命令或按键来实现不同的功能</p>
<ol>
<li><code>空格键</code>：向下翻动一页 </li>
<li><code>回车键</code>：向下滚动一行</li>
<li><code>/字符串</code>：在这个显示页面中，查找字符串关键字</li>
<li><code>:f</code>：显示出文件名和目前显示的行数</li>
<li><code>q</code>：退出more，不再显示</li>
<li><code>b</code>或<code>[Ctrl]</code>+<code>[B]</code>：往回翻页，只对文件有用对管道无用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ more &#x2F;etc&#x2F;manpath.config </span><br><span class="line"># manpath.config</span><br><span class="line">#</span><br><span class="line"># This file is used by the man-db package to configure the man and cat paths.</span><br><span class="line">...</span><br><span class="line">--更多--(18%)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="less"><a href="#less" class="headerlink" title="less"></a>less</h3><p><code>less</code>比<code>more</code>更加有弹性，我们可以直接使用<code>[PageUp]</code>和<code>[PageDown]</code>按键来往前往后翻看，它也可以通过输入不同命令来实现不同功能</p>
<ol>
<li><code>空格键</code>：向下翻动一页</li>
<li><code>[PageUp]</code>：向上翻动一页</li>
<li><code>[PageDown]</code>：向下翻动一页</li>
<li><code>/字符串</code>：向下查找字符串关键字</li>
<li><code>?字符串</code>：向上查找字符串关键字</li>
<li><code>n</code>：重复前一个查询</li>
<li><code>N</code>：反向查询前一个查询</li>
<li><code>q</code>：退出more，不再显示</li>
</ol>
<h2 id="数据选取"><a href="#数据选取" class="headerlink" title="数据选取"></a>数据选取</h2><p>我们可以将输出的文件内容做一个简单的选取，如取出头部（head）和尾部（tail）的内容，不过它们都是以行为单位的</p>
<h3 id="head"><a href="#head" class="headerlink" title="head"></a>head</h3><p>取出显示文件头部几行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ head [-n number] 文件</span><br><span class="line"></span><br><span class="line">-n:后面接数字，代表显示几行</span><br><span class="line">——————————</span><br><span class="line">#默认显示头部10行</span><br><span class="line">beluga@beluga-Linux:~$ head &#x2F;etc&#x2F;manpath.config </span><br><span class="line"># manpath.config</span><br><span class="line">#</span><br><span class="line"># This file is used by the man-db package to configure the man and cat paths.</span><br><span class="line"># It is also used to provide a manpath for those without one by examining</span><br><span class="line"># their PATH environment variable. For details see the manpath(5) man page.</span><br><span class="line">#</span><br><span class="line"># Lines beginning with &#96;#&#39; are comments and are ignored. Any combination of</span><br><span class="line"># tabs or spaces may be used as &#96;whitespace&#39; separators.</span><br><span class="line">#</span><br><span class="line"># There are three mappings allowed in this file:</span><br><span class="line"></span><br><span class="line">#显示头部3行</span><br><span class="line">beluga@beluga-Linux:~$ head -n 3 &#x2F;etc&#x2F;manpath.config </span><br><span class="line"># manpath.config</span><br><span class="line">#</span><br><span class="line"># This file is used by the man-db package to configure the man and cat paths.</span><br><span class="line"></span><br><span class="line">#文件后125行的内容不显示</span><br><span class="line">beluga@beluga-Linux:~$ head -n -125 &#x2F;etc&#x2F;manpath.config </span><br><span class="line"># manpath.config</span><br><span class="line">#</span><br><span class="line"># This file is used by the man-db package to configure the man and cat paths.</span><br><span class="line"># It is also used to provide a manpath for those without one by examining</span><br><span class="line"># their PATH environment variable. For details see the manpath(5) man page.</span><br><span class="line">#</span><br></pre></td></tr></table></figure>

<h3 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h3><p>取出显示文件尾部几行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ tail [-n number] 文件</span><br><span class="line"></span><br><span class="line">-n:后面接数字，代表显示几行</span><br><span class="line">-f:表示持续检测文件，文件内容改变会直接更新出来，直到按下[Ctrl]+[C]才结束</span><br><span class="line">——————————</span><br><span class="line">#默认显示尾部10行</span><br><span class="line">beluga@beluga-Linux:~$ tail &#x2F;etc&#x2F;manpath.config </span><br><span class="line"># formatted for a terminal of the given width, regardless of the width of</span><br><span class="line"># the terminal actually being used. This should generally be within the</span><br><span class="line"># range set by MINCATWIDTH and MAXCATWIDTH.</span><br><span class="line">#</span><br><span class="line">#CATWIDTH	0</span><br><span class="line">#</span><br><span class="line">#---------------------------------------------------------</span><br><span class="line"># Flags.</span><br><span class="line"># NOCACHE keeps man from creating cat pages.</span><br><span class="line">#NOCACHE</span><br><span class="line"></span><br><span class="line">#显示尾部3行</span><br><span class="line">beluga@beluga-Linux:~$ tail -n 3 &#x2F;etc&#x2F;manpath.config </span><br><span class="line"># Flags.</span><br><span class="line"># NOCACHE keeps man from creating cat pages.</span><br><span class="line">#NOCACHE</span><br><span class="line"></span><br><span class="line">#只显示125行之后的内容</span><br><span class="line">beluga@beluga-Linux:~$ tail -n +125 &#x2F;etc&#x2F;manpath.config </span><br><span class="line">#</span><br><span class="line">#CATWIDTH	0</span><br><span class="line">#</span><br><span class="line">#---------------------------------------------------------</span><br><span class="line"># Flags.</span><br><span class="line"># NOCACHE keeps man from creating cat pages.</span><br><span class="line">#NOCACHE</span><br></pre></td></tr></table></figure>

<h2 id="非纯文本文件：od"><a href="#非纯文本文件：od" class="headerlink" title="非纯文本文件：od"></a>非纯文本文件：od</h2><p>前面提到的都是查阅纯文本文件内容。那如果我们查阅的文件不是纯文本文件而是像二进制文件之类的，我们再用前面的命令就会出现乱码，这时我们可以使用<code>od</code>命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ od [-t TYPE] 文件</span><br><span class="line"></span><br><span class="line">-t:后面接类型的输出，如：</span><br><span class="line">	a:默认字符输出</span><br><span class="line">	c:ASCII码输出</span><br><span class="line">	d[size]:十进制输出，每个整数占用size bytes</span><br><span class="line">	f[size]:浮点数输出，每个整数占用size bytes</span><br><span class="line">	o[size]:八进制输出，每个整数占用size bytes</span><br><span class="line">	x[size]:十六进制输出，每个整数占用size bytes</span><br><span class="line">——————————</span><br><span class="line">#将&#x2F;usr&#x2F;bin&#x2F;passwd内容使用ASCII码输出</span><br><span class="line">beluga@beluga-Linux:~$ od -t c &#x2F;usr&#x2F;bin&#x2F;passwd</span><br><span class="line">0000000 177   E   L   F 002 001 001  \0  \0  \0  \0  \0  \0  \0  \0  \0</span><br><span class="line">0000020 003  \0   &gt;  \0 001  \0  \0  \0 020   J  \0  \0  \0  \0  \0  \0</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">#将&#x2F;etc&#x2F;issue文件以八进制列出存储值与ASCII码对照表</span><br><span class="line">beluga@beluga-Linux:~$ od -t oCc &#x2F;etc&#x2F;issue</span><br><span class="line">0000000 125 142 165 156 164 165 040 061 070 056 060 064 056 062 040 114</span><br><span class="line">          U   b   u   n   t   u       1   8   .   0   4   .   2       L</span><br><span class="line">0000020 124 123 040 134 156 040 134 154 012 012</span><br><span class="line">          T   S       \   n       \   l  \n  \n</span><br><span class="line">0000032</span><br></pre></td></tr></table></figure>

<h2 id="文件创建与时间修改：touch"><a href="#文件创建与时间修改：touch" class="headerlink" title="文件创建与时间修改：touch"></a>文件创建与时间修改：touch</h2><p>前面在介绍<code>ls</code>命令时，有提到每个文件在Linux下都记录着很多时间参数，其实是有三个主要变动时间</p>
<h3 id="内容时间：mtime"><a href="#内容时间：mtime" class="headerlink" title="内容时间：mtime"></a>内容时间：mtime</h3><p>modification time简称，当该文件的数据内容发生改变时，就会更新这个时间</p>
<h3 id="访问时间：atime"><a href="#访问时间：atime" class="headerlink" title="访问时间：atime"></a>访问时间：atime</h3><p>access time简称，当该文件的数据内容被访问读取时，就会更新这个时间</p>
<h3 id="状态时间：ctime"><a href="#状态时间：ctime" class="headerlink" title="状态时间：ctime"></a>状态时间：ctime</h3><p>status time，当该文件的权限或属性等状态改变时，就会更新这个时间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#查看一下&#x2F;etc&#x2F;manpath.config这个文件的时间</span><br><span class="line">beluga@beluga-Linux:~$ ls -l &#x2F;etc&#x2F;manpath.config </span><br><span class="line">-rw-r--r-- 1 root root 5174 8月   5  2018 &#x2F;etc&#x2F;manpath.config</span><br><span class="line">#默认显示的是mtime</span><br><span class="line"></span><br><span class="line">beluga@beluga-Linux:~$ ls -l --time&#x3D;atime &#x2F;etc&#x2F;manpath.config </span><br><span class="line">-rw-r--r-- 1 root root 5174 4月   1 11:14 &#x2F;etc&#x2F;manpath.config</span><br><span class="line"></span><br><span class="line">beluga@beluga-Linux:~$ ls -l --time&#x3D;ctime &#x2F;etc&#x2F;manpath.config </span><br><span class="line">-rw-r--r-- 1 root root 5174 3月   4 12:00 &#x2F;etc&#x2F;manpath.config</span><br></pre></td></tr></table></figure>
<p>如果发现了一个来自未来的时间，我们该如何修改它呢，可以使用<code>touch</code>命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ touch [-acdmt] 文件</span><br><span class="line"></span><br><span class="line">-a:仅修改访问时间atime</span><br><span class="line">-c:仅修改文件时间，若文件不存在不创建新文件</span><br><span class="line">-d:后面接欲修改的时期而不用目前时间，也可以使用--time&#x3D;日期</span><br><span class="line">-m:仅修改内容时间mtime</span><br><span class="line">-t:后面接欲修改的时期而不用目前时间，格式[YYMMDDhhmm]</span><br><span class="line">——————————</span><br><span class="line">#新建空白文件并查看时间</span><br><span class="line">beluga@beluga-Linux:~$ touch testtouch</span><br><span class="line">beluga@beluga-Linux:~$ ls -l testtouch </span><br><span class="line">-rw-r--r-- 1 beluga beluga 0 4月   1 22:56 testtouch</span><br><span class="line"></span><br><span class="line">#将~&#x2F;.bashrc完全复制成为bashrc并查看时间</span><br><span class="line">root@beluga-Linux:&#x2F;home&#x2F;beluga# cp -a ~&#x2F;.bashrc bashrc</span><br><span class="line">root@beluga-Linux:&#x2F;home&#x2F;beluga# ll bashrc; ll --time&#x3D;atime bashrc; ll --time&#x3D;ctime bashrc</span><br><span class="line">-rw-r--r-- 1 root root 3106 4月   9  2018 bashrc		&lt;&#x3D;mtime</span><br><span class="line">-rw-r--r-- 1 root root 3106 4月   1 23:01 bashrc		&lt;&#x3D;atime</span><br><span class="line">-rw-r--r-- 1 root root 3106 4月   1 23:01 bashrc		&lt;&#x3D;ctime</span><br><span class="line"></span><br><span class="line">#修改bashrc文件，时间(atime&#x2F;mtime)改为两天前</span><br><span class="line">root@beluga-Linux:&#x2F;home&#x2F;beluga# touch -d &quot;2 days ago&quot; bashrc</span><br><span class="line">root@beluga-Linux:&#x2F;home&#x2F;beluga# ll bashrc;ll --time&#x3D;atime bashrc;ll --time&#x3D;ctime bashrc;</span><br><span class="line">-rw-r--r-- 1 root root 3106 3月  30 23:13 bashrc</span><br><span class="line">-rw-r--r-- 1 root root 3106 4月   1 23:13 bashrc</span><br><span class="line">-rw-r--r-- 1 root root 3106 4月   1 23:13 bashrc</span><br><span class="line"></span><br><span class="line">#修改bashrc文件，时间(atime&#x2F;mtime)改为2019&#x2F;04&#x2F;01 16:01</span><br><span class="line">root@beluga-Linux:&#x2F;home&#x2F;beluga# touch -t 1904011600 bashrc</span><br><span class="line">root@beluga-Linux:&#x2F;home&#x2F;beluga# ll bashrc;ll --time&#x3D;atime bashrc;ll --time&#x3D;ctime bashrc;</span><br><span class="line">-rw-r--r-- 1 root root 3106 4月   1 16:00 bashrc</span><br><span class="line">-rw-r--r-- 1 root root 3106 4月   1 16:00 bashrc</span><br><span class="line">-rw-r--r-- 1 root root 3106 4月   5 17:00 bashrc</span><br></pre></td></tr></table></figure>
<p>通过<code>touch</code>命令，我们可以轻易修改文件的内容时间mtime和访问时间atime，并且创建新空白文件。但要注意的是我们复制一个文件所有属性也没有办法复制它的状态时间ctime</p>
<h1 id="文件与目录的默认权限与隐藏权限"><a href="#文件与目录的默认权限与隐藏权限" class="headerlink" title="文件与目录的默认权限与隐藏权限"></a>文件与目录的默认权限与隐藏权限</h1><h2 id="文件默认权限：umask"><a href="#文件默认权限：umask" class="headerlink" title="文件默认权限：umask"></a>文件默认权限：umask</h2><p>umask就是用来指定目前用户在新建文件或目录时的权限。默认情况下，用户创建文件默认权限<code>-rw-rw-rw-</code>，创建目录默认权限<code>drwxrwxrwx</code>。umask分数指的是默认权限要删去的权限数值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#查看umask</span><br><span class="line">beluga@beluga-Linux:~$ umask</span><br><span class="line">0002		&lt;&#x3D;第一位与隐藏权限有关，后三位与一般权限有关</span><br><span class="line">beluga@beluga-Linux:~$ umask -S</span><br><span class="line">u&#x3D;rwx,g&#x3D;rwx,o&#x3D;rx</span><br><span class="line">#umask分数指的是要删去的权限数值</span><br><span class="line"></span><br><span class="line">#设置umask</span><br><span class="line">beluga@beluga-Linux:~$ umask 002</span><br></pre></td></tr></table></figure>
<p>root账户的umask默认是022，一般账户的umak默认是002。关于默认umask的设置可以参考<code>/etc/bashrc</code>文件内容</p>
<h2 id="文件隐藏属性：chattr，lsattr"><a href="#文件隐藏属性：chattr，lsattr" class="headerlink" title="文件隐藏属性：chattr，lsattr"></a>文件隐藏属性：chattr，lsattr</h2><h3 id="设置文件隐藏属性：chattr"><a href="#设置文件隐藏属性：chattr" class="headerlink" title="设置文件隐藏属性：chattr"></a>设置文件隐藏属性：chattr</h3><p>注意，<code>chattr</code>命令只能在Ext2/Ext3文件系统上生效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:~$ chattr [+-&#x3D;][ASacdistu] 文件或目录</span><br><span class="line"></span><br><span class="line">+:增加某个参数，其他原本存在参数不动</span><br><span class="line">-:删除某个参数，其他原本存在参数不动</span><br><span class="line">&#x3D;:仅有后面接的参数</span><br><span class="line"></span><br><span class="line">A:加上A参数时，若存取此文件时，它的存取时间atime将不会被修改，可避免I&#x2F;O较慢的机器过度的存取磁盘</span><br><span class="line">S:一般文件是非同步写入硬盘，如果加上S参数时，当你进行任何修改，该更动都会写入磁盘中</span><br><span class="line">a:加上a参数时，这个文件将只能增加资料，而不能删除也不能修改数据，只有root才能设定这参数</span><br><span class="line">c:这个参数设定之后，将会自动的将文件压缩，读取时自动解压，但是在储存的时候，将会先进行压缩后再储存</span><br><span class="line">d:当dump程序被执行的时候，设定d参数将可使该文件(或目录)不会被dump备份</span><br><span class="line">i:让文件不能被删除、改名、设置连接也无法写入或添加数据，只有root能设定此参数</span><br><span class="line">s:当设定了s参数时，如果这个文件被删除，他将会被完全的移除出硬盘空间，所以如果误删了，无法救回来了</span><br><span class="line">u:与s相反，当使用u设定时，如果该档案被删除了，则数据内容其实还存在硬盘中</span><br><span class="line">——————————</span><br><span class="line">#到&#x2F;tmp创建文件，加入i参数，尝试删除</span><br><span class="line">beluga@beluga-Linux:&#x2F;tmp$ touch attrtest</span><br><span class="line">root@beluga-Linux:&#x2F;tmp# chattr +i attrtest</span><br><span class="line">root@beluga-Linux:&#x2F;tmp# rm attrtest</span><br><span class="line">rm: 无法删除&#39;attrtest&#39;: 不允许的操作</span><br><span class="line"></span><br><span class="line">#取消i参数</span><br><span class="line">root@beluga-Linux:&#x2F;tmp# chattr -i attrtest</span><br></pre></td></tr></table></figure>

<h3 id="查看文件隐藏属性"><a href="#查看文件隐藏属性" class="headerlink" title="查看文件隐藏属性"></a>查看文件隐藏属性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:&#x2F;$ lsattr [-adR] 文件或目录</span><br><span class="line"></span><br><span class="line">-a:将隐藏文件的属性也显示出来</span><br><span class="line">-d:如果接的是目录，仅列出目录本身属性而非目录内的文件名</span><br><span class="line">-R:连同子目录也一并显示出来</span><br><span class="line">——————————</span><br><span class="line">#显示文件隐藏属性</span><br><span class="line">root@beluga-Linux:&#x2F;tmp# chattr +aij attrtest</span><br><span class="line">root@beluga-Linux:&#x2F;tmp# lsattr attrtest</span><br><span class="line">----ia----j---e--- attrtest</span><br></pre></td></tr></table></figure>

<h2 id="文件特殊权限：SUID，SGID，SBIT"><a href="#文件特殊权限：SUID，SGID，SBIT" class="headerlink" title="文件特殊权限：SUID，SGID，SBIT"></a>文件特殊权限：SUID，SGID，SBIT</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:&#x2F;$ ls -ld &#x2F;tmp;ls -l &#x2F;usr&#x2F;bin&#x2F;passwd</span><br><span class="line">drwxrwxrwt 19 root root 4096 4月   5 18:29 &#x2F;tmp</span><br><span class="line">-rwsr-xr-x 1 root root 59640 1月  25  2018 &#x2F;usr&#x2F;bin&#x2F;passwd</span><br></pre></td></tr></table></figure>
<p>查看上述两个目录的权限，发现除了r、w、x权限之外还出现了s、t权限。原来这两个权限是与系统账号及系统进程相关的权限</p>
<h3 id="SetUID"><a href="#SetUID" class="headerlink" title="SetUID"></a>SetUID</h3><p>-P184-（挖坑</p>
<h3 id="SetGID"><a href="#SetGID" class="headerlink" title="SetGID"></a>SetGID</h3><p>-P185-（挖坑</p>
<h3 id="StickyBit"><a href="#StickyBit" class="headerlink" title="StickyBit"></a>StickyBit</h3><p>-P186-（挖坑</p>
<h2 id="查看文件类型：file"><a href="#查看文件类型：file" class="headerlink" title="查看文件类型：file"></a>查看文件类型：file</h2><p>如果你想要知道某个文件的基本数据，例如是属于ASCII或data文件，或者是binary，且其中有没有使用到动态函数库等信息，就可以使用<code>file</code>命令查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:&#x2F;$ file ~&#x2F;.bashrc</span><br><span class="line">&#x2F;home&#x2F;beluga&#x2F;.bashrc: ASCII text		&lt;&#x3D;告诉我们这是个ASCII文件</span><br></pre></td></tr></table></figure>

<h1 id="命令与文件的查询"><a href="#命令与文件的查询" class="headerlink" title="命令与文件的查询"></a>命令与文件的查询</h1><p>我们经常需要知道某个文件的存储位置，这样才能对该文件进行一些修改维护等操作</p>
<h2 id="脚本文件名的查询"><a href="#脚本文件名的查询" class="headerlink" title="脚本文件名的查询"></a>脚本文件名的查询</h2><p>我们知道在终端机模式当中，连续按两次<code>[Tab]</code>按键就能够知道使用者有多少命令可以执行。那你知不知道这些命令完整文件名放在哪？可以通过<code>which</code>或<code>type</code>查询</p>
<h3 id="寻找执行文件：which"><a href="#寻找执行文件：which" class="headerlink" title="寻找执行文件：which"></a>寻找执行文件：which</h3><p>这个命令是根据PATH这个环境变量所规范的路径去查询执行文件的文件名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:&#x2F;$ which [-a] command </span><br><span class="line"></span><br><span class="line">-a:将所有由PATH目录中可以找到的命令列出，而不只第一个被找到的命令名称</span><br></pre></td></tr></table></figure>

<h2 id="文件名的查找"><a href="#文件名的查找" class="headerlink" title="文件名的查找"></a>文件名的查找</h2><p>Linux 中也有查找文件命令。通常<code>find</code>不是很常用，因为搜索速度很慢。一般先使用<code>whereis</code>或<code>locate</code>来查找，实在找不到再使用<code>find</code>。因为<code>whereis</code>和<code>locate</code>是利用数据库来查找数据的，并没有查询硬盘</p>
<h3 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:&#x2F;$ whereis [-bmsu] 文件或目录</span><br><span class="line"></span><br><span class="line">-l:可以列出whereis会去查询的几个主要目录</span><br><span class="line">-b:只找二进制(binary)格式的</span><br><span class="line">-m:只找在说明文件(manual)路径下的档案</span><br><span class="line">-s:只找源文件(source)</span><br><span class="line">-u:查找不在上述三个项目当中的其他特殊文件</span><br></pre></td></tr></table></figure>

<h3 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h3><p>这个命令使用更加简单，直接在后面输入文件的关键字（部分文件名）就可以得到结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:&#x2F;$ locate [-ir] keyword </span><br><span class="line"></span><br><span class="line">-i:忽略大小写的差异</span><br><span class="line">-c:不输出文件名，仅计算找到的文件数量</span><br><span class="line">-l:仅输出几行的意思，例如输出5行则是-l 5</span><br><span class="line">-r:后面可接正则表达式的显示方式</span><br></pre></td></tr></table></figure>

<p>这个命令使用时有个限制，因为它是直接查找数据库的，所以有时数据库还来不及更新你就找不到某个文件。而更新数据库可以使用<code>updatedb</code>命令</p>
<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">beluga@beluga-Linux:&#x2F;$ find [PATH] [option] [action] </span><br><span class="line"></span><br><span class="line">与时间有关的选项:-atime,-ctime,-mtime</span><br><span class="line">	-mtime n:意义为在n天之前的一天之内被更改过内容的文件</span><br><span class="line">	-mtime +n:列出在n天之前(不含n天本身)被更改过内容的文件名</span><br><span class="line">	-mtime -n:列出在n天之内(含n天本身)被更改过内容的文件名</span><br><span class="line">	-newer file:file为一个存在的文件，列出比file还要新的文件名</span><br><span class="line"></span><br><span class="line">与使用者或群组名称有关的参数</span><br><span class="line">	-uid n:n是用户的帐号ID，即UID</span><br><span class="line">	-gid n:n是用户组名的ID，即GID</span><br><span class="line">	-user name:name为用户账户名,如beluga</span><br><span class="line">	-group name:name为用户组名，如users</span><br><span class="line">	-nouser:查找文件所有者不在&#x2F;etc&#x2F;passwd的文件</span><br><span class="line">	-nogroup:查找文件所有用户组不存在于&#x2F;etc&#x2F;group的文件</span><br><span class="line">	</span><br><span class="line">与档案权限及名称有关的参数</span><br><span class="line">	-name filename:查找文件名为filename的文件</span><br><span class="line">	-size [+-]SIZE:查找比SIZE要大(+)或小(-)的文件</span><br><span class="line">		c:代表byte</span><br><span class="line">		k:代表1024bytes</span><br><span class="line">	-type TYPE:查找文件类型为TYPE的文件</span><br><span class="line">		一般文件(f)</span><br><span class="line">		设备文件(b,c)</span><br><span class="line">		目录(d)</span><br><span class="line">		连接文件(l)</span><br><span class="line">		socket(s)</span><br><span class="line">		FIFO(p)等</span><br><span class="line">	-perm mode:查找权限等于mode的文件</span><br><span class="line">		mode类似chmod的属性值，如-rwsr-xr-x属性为4755</span><br><span class="line">	-perm -mode:查找文件权限全部包括mode权限的文件</span><br><span class="line">	-perm +mode:查找文件权限包含任一mode权限的文件</span><br><span class="line"></span><br><span class="line">其他可进行的操作</span><br><span class="line">	-exec command:-exec后面可接其他命令来处理搜寻到的结果</span><br><span class="line">	-print:将结果打印到屏幕，这个操作是默认操作</span><br><span class="line">——————————</span><br><span class="line">#将系统24小时内改动过内容(mtime)的文件列出 </span><br><span class="line">beluga@beluga-Linux:&#x2F;$ find &#x2F; -mtime 0 </span><br><span class="line">#0代表目前的时间，表示从现在开始到24小时前</span><br><span class="line"></span><br><span class="line">#如果是三天前的24小时内</span><br><span class="line">beluga@beluga-Linux:&#x2F;$ find &#x2F; -mtime 3</span><br><span class="line"></span><br><span class="line">#查询&#x2F;etc的文件，如果日期比&#x2F;etc&#x2F;passwd新就列出 </span><br><span class="line">beluga@beluga-Linux:&#x2F;$ find &#x2F;etc -newer &#x2F;etc&#x2F;passwd</span><br></pre></td></tr></table></figure>

<p><code>find</code>时间参数意义</p>
<img src="/BJ190405/find_time.gif" class="">

<h1 id="编辑日志"><a href="#编辑日志" class="headerlink" title="编辑日志"></a>编辑日志</h1><p><strong>19/05/19</strong><br>1.完善文章前言部分</p>
<p><strong>20/01/21</strong><br>1.修改文章名称为【Linux：文件与目录管理】<br>2.调整文章编码位置</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://tsuicyne.github.io/BJ190405/" title="Linux：文件与目录管理">https://tsuicyne.github.io/BJ190405/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请务必注明出处
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Linux/" rel="tag"># Linux</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/BJ190324/" rel="prev" title="Linux：文件权限与目录配置">
      <i class="fa fa-chevron-left"></i> Linux：文件权限与目录配置
    </a></div>
      <div class="post-nav-item">
    <a href="/BJ190519/" rel="next" title="基于Arduino的智能家居控制系统">
      基于Arduino的智能家居控制系统 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          目录
        </li>
        <li class="sidebar-nav-overview">
          概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#目录与路径"><span class="nav-number">1.</span> <span class="nav-text">目录与路径</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#相对路径与绝对路径"><span class="nav-number">1.1.</span> <span class="nav-text">相对路径与绝对路径</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#目录的相关操作"><span class="nav-number">1.2.</span> <span class="nav-text">目录的相关操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#一些特殊的目录"><span class="nav-number">1.2.1.</span> <span class="nav-text">一些特殊的目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#几个常见的处理目录的命令"><span class="nav-number">1.2.2.</span> <span class="nav-text">几个常见的处理目录的命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#切换目录：cd"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">切换目录：cd</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#显示当前目录：pwd"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">显示当前目录：pwd</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#新建目录：mkdir"><span class="nav-number">1.2.2.3.</span> <span class="nav-text">新建目录：mkdir</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#删除空目录：rmdir"><span class="nav-number">1.2.2.4.</span> <span class="nav-text">删除空目录：rmdir</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#执行文件路径的变量：-PATH"><span class="nav-number">1.3.</span> <span class="nav-text">执行文件路径的变量：$PATH</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件与目录管理"><span class="nav-number">2.</span> <span class="nav-text">文件与目录管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#查看文件与目录：ls"><span class="nav-number">2.1.</span> <span class="nav-text">查看文件与目录：ls</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#复制、删除与移动：cp，rm，mv"><span class="nav-number">2.2.</span> <span class="nav-text">复制、删除与移动：cp，rm，mv</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#复制文件或目录：cp"><span class="nav-number">2.2.1.</span> <span class="nav-text">复制文件或目录：cp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#移除文件或目录：rm"><span class="nav-number">2.2.2.</span> <span class="nav-text">移除文件或目录：rm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#移动文件或目录：mv"><span class="nav-number">2.2.3.</span> <span class="nav-text">移动文件或目录：mv</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#取得路径文件名与目录名称"><span class="nav-number">2.3.</span> <span class="nav-text">取得路径文件名与目录名称</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件内容查阅"><span class="nav-number">3.</span> <span class="nav-text">文件内容查阅</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#直接查看文件内容"><span class="nav-number">3.1.</span> <span class="nav-text">直接查看文件内容</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#连续显示：cat"><span class="nav-number">3.1.1.</span> <span class="nav-text">连续显示：cat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#反向列示：tac"><span class="nav-number">3.1.2.</span> <span class="nav-text">反向列示：tac</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加行号打印：nl"><span class="nav-number">3.1.3.</span> <span class="nav-text">添加行号打印：nl</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#可翻页查看"><span class="nav-number">3.2.</span> <span class="nav-text">可翻页查看</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#more"><span class="nav-number">3.2.1.</span> <span class="nav-text">more</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#less"><span class="nav-number">3.2.2.</span> <span class="nav-text">less</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据选取"><span class="nav-number">3.3.</span> <span class="nav-text">数据选取</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#head"><span class="nav-number">3.3.1.</span> <span class="nav-text">head</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tail"><span class="nav-number">3.3.2.</span> <span class="nav-text">tail</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#非纯文本文件：od"><span class="nav-number">3.4.</span> <span class="nav-text">非纯文本文件：od</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件创建与时间修改：touch"><span class="nav-number">3.5.</span> <span class="nav-text">文件创建与时间修改：touch</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#内容时间：mtime"><span class="nav-number">3.5.1.</span> <span class="nav-text">内容时间：mtime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#访问时间：atime"><span class="nav-number">3.5.2.</span> <span class="nav-text">访问时间：atime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#状态时间：ctime"><span class="nav-number">3.5.3.</span> <span class="nav-text">状态时间：ctime</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件与目录的默认权限与隐藏权限"><span class="nav-number">4.</span> <span class="nav-text">文件与目录的默认权限与隐藏权限</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#文件默认权限：umask"><span class="nav-number">4.1.</span> <span class="nav-text">文件默认权限：umask</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件隐藏属性：chattr，lsattr"><span class="nav-number">4.2.</span> <span class="nav-text">文件隐藏属性：chattr，lsattr</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#设置文件隐藏属性：chattr"><span class="nav-number">4.2.1.</span> <span class="nav-text">设置文件隐藏属性：chattr</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看文件隐藏属性"><span class="nav-number">4.2.2.</span> <span class="nav-text">查看文件隐藏属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件特殊权限：SUID，SGID，SBIT"><span class="nav-number">4.3.</span> <span class="nav-text">文件特殊权限：SUID，SGID，SBIT</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SetUID"><span class="nav-number">4.3.1.</span> <span class="nav-text">SetUID</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SetGID"><span class="nav-number">4.3.2.</span> <span class="nav-text">SetGID</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#StickyBit"><span class="nav-number">4.3.3.</span> <span class="nav-text">StickyBit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看文件类型：file"><span class="nav-number">4.4.</span> <span class="nav-text">查看文件类型：file</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#命令与文件的查询"><span class="nav-number">5.</span> <span class="nav-text">命令与文件的查询</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#脚本文件名的查询"><span class="nav-number">5.1.</span> <span class="nav-text">脚本文件名的查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#寻找执行文件：which"><span class="nav-number">5.1.1.</span> <span class="nav-text">寻找执行文件：which</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件名的查找"><span class="nav-number">5.2.</span> <span class="nav-text">文件名的查找</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#whereis"><span class="nav-number">5.2.1.</span> <span class="nav-text">whereis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#locate"><span class="nav-number">5.2.2.</span> <span class="nav-text">locate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#find"><span class="nav-number">5.2.3.</span> <span class="nav-text">find</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#编辑日志"><span class="nav-number">6.</span> <span class="nav-text">编辑日志</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="TsuiCyne"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">TsuiCyne</p>
  <div class="site-description" itemprop="description">广东网友</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:TsuiCyne@outlook.com" title="E-Mail → mailto:TsuiCyne@outlook.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user-circle"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">TsuiCyne</span>
</div>
  <div class="powered-by">Powered By  <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'vWVSKpB13xILK5EQxDL2yTKG-MdYXbMMI',
      appKey     : '4QF7GDNz6kzBgiLWxehflIyF',
      placeholder: "\\*评论请务必填写完整昵称&邮箱，否则大概率无法显示",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
